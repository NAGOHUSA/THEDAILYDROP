<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0B0B2B">
    <title>The Nightly Drop - Celestial Essential Oil Recipes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        :root {
            --midnight-blue: #0B0B2B;
            --deep-space: #1A1A2E;
            --nebula-purple: #4B0082;
            --starry-night: #2D3047;
            --cosmic-purple: #8A2BE2;
            --planet-orange: #FF7F50;
            --moon-silver: #C0C0C0;
            --star-gold: #FFD700;
            --comet-blue: #4682B4;
            --galaxy-blue: #191970;
            --aurora-green: #7FFFD4;
            --safety-orange: #FFA500;
            --safe-area-inset-top: env(safe-area-inset-top);
            --safe-area-inset-bottom: env(safe-area-inset-bottom);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--moon-silver);
            background: linear-gradient(135deg, var(--midnight-blue) 0%, var(--deep-space) 50%, var(--galaxy-blue) 100%);
            min-height: 100vh;
            min-height: -webkit-fill-available;
            position: relative;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            overflow-x: hidden;
        }

        html {
            height: -webkit-fill-available;
        }

        /* Animated Starfield Background */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* Shooting Stars */
        .shooting-star {
            position: absolute;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, white);
            animation: shoot var(--speed) linear infinite;
            opacity: 0;
        }

        @keyframes shoot {
            0% { transform: translateX(0) translateY(0) rotate(var(--angle)); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateX(100vw) translateY(100vh) rotate(var(--angle)); opacity: 0; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, rgba(11, 11, 43, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%);
            color: white;
            padding: 1rem 0;
            padding-top: calc(1rem + env(safe-area-inset-top, 0px));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%234682b4' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.1;
            z-index: -1;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            gap: 12px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-align: center;
        }

        .logo i {
            font-size: 2rem;
            color: var(--star-gold);
            filter: drop-shadow(0 0 8px var(--star-gold));
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.3px;
            text-shadow: 0 0 10px var(--comet-blue);
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            line-height: 1.2;
            background: linear-gradient(45deg, var(--moon-silver), var(--star-gold), var(--aurora-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo p {
            font-size: 0.85rem;
            opacity: 0.9;
            font-style: italic;
            color: var(--moon-silver);
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--star-gold);
            font-size: 1.5rem;
            padding: 8px;
            cursor: pointer;
            z-index: 1000;
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
        }

        .nav-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .nav-links a {
            color: var(--moon-silver);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 14px;
            border-radius: 20px;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            min-width: 44px;
            min-height: 44px;
            justify-content: center;
        }

        .nav-links a i {
            font-size: 1rem;
            color: var(--comet-blue);
        }

        .nav-links a:hover, .nav-links a:active {
            background-color: rgba(138, 43, 226, 0.3);
            transform: translateY(-1px);
            box-shadow: 0 2px 10px rgba(138, 43, 226, 0.4);
            border-color: var(--cosmic-purple);
        }

        /* Main content */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 2rem;
            width: 100%;
        }

        /* Recipe Card */
        .recipe-card {
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.9) 0%, rgba(45, 48, 71, 0.9) 100%);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            transition: all 0.3s ease;
            width: 100%;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .recipe-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--nebula-purple), var(--comet-blue), var(--planet-orange));
        }

        .recipe-card:hover, .recipe-card:active {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(138, 43, 226, 0.3);
        }

        .recipe-header {
            background: linear-gradient(135deg, rgba(75, 0, 130, 0.7) 0%, rgba(70, 130, 180, 0.7) 100%);
            color: white;
            padding: 1.25rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .recipe-header::after {
            content: "‚ú®";
            position: absolute;
            bottom: 8px;
            right: 12px;
            opacity: 0.3;
            font-size: 1.5rem;
        }

        .recipe-title h2 {
            font-size: 1.4rem;
            margin-bottom: 4px;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            font-weight: 700;
            line-height: 1.3;
            color: var(--star-gold);
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }

        .recipe-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            font-size: 0.85rem;
            opacity: 0.95;
            align-items: center;
        }

        .season-badge {
            background-color: rgba(70, 130, 180, 0.3);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid rgba(70, 130, 180, 0.5);
            backdrop-filter: blur(5px);
            color: var(--comet-blue);
        }

        .recipe-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .recipe-body {
            padding: 1.5rem 1rem;
        }

        /* Sections */
        .oils-section, .formats-section, .why-works, .safety-section {
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.1rem;
            color: var(--aurora-green);
            margin-bottom: 0.75rem;
            padding-bottom: 6px;
            border-bottom: 2px solid rgba(127, 255, 212, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            position: relative;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .section-title::before {
            content: "‚ú¶";
            color: var(--star-gold);
            margin-right: 5px;
            font-size: 1rem;
        }

        .section-title i {
            color: var(--comet-blue);
            font-size: 1rem;
        }

        /* Oil Badges */
        .oil-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .oil-badge {
            background: linear-gradient(135deg, rgba(45, 48, 71, 0.8) 0%, rgba(75, 0, 130, 0.4) 100%);
            padding: 10px 14px;
            border-radius: 12px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            min-width: 44px;
            min-height: 44px;
            position: relative;
            overflow: hidden;
        }

        .oil-badge::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .oil-badge:hover::before, .oil-badge:active::before {
            left: 100%;
        }

        .oil-badge:hover, .oil-badge:active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(138, 43, 226, 0.3);
            border-color: var(--cosmic-purple);
        }

        .oil-badge i {
            color: var(--star-gold);
            font-size: 0.9rem;
        }

        .oil-latin {
            font-style: italic;
            color: var(--moon-silver);
            font-size: 0.8rem;
            margin-left: 4px;
            opacity: 0.8;
        }

        /* Format Cards */
        .format-card {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.8) 0%, rgba(45, 48, 71, 0.8) 100%);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.25rem;
            border-left: 4px solid var(--planet-orange);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .format-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 127, 80, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .format-card:hover, .format-card:active {
            border-left-color: var(--aurora-green);
            box-shadow: 0 6px 25px rgba(70, 130, 180, 0.3);
            transform: translateY(-2px);
        }

        .format-card h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 0.75rem;
            color: var(--moon-silver);
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            font-size: 1rem;
        }

        .drops-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            margin: 0.75rem 0;
        }

        .drop-item {
            background: linear-gradient(135deg, rgba(45, 48, 71, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%);
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .drop-item:hover, .drop-item:active {
            border-color: var(--comet-blue);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(70, 130, 180, 0.3);
        }

        .drop-name {
            font-weight: 600;
            color: var(--aurora-green);
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            font-size: 0.9rem;
        }

        .drop-count {
            color: var(--star-gold);
            font-weight: 700;
            font-size: 1.1rem;
            margin-top: 4px;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
        }

        /* Safety List */
        .safety-list {
            list-style: none;
        }

        .safety-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            min-height: 44px;
        }

        .safety-list li:last-child {
            border-bottom: none;
        }

        .safety-list li i {
            color: var(--safety-orange);
            min-width: 18px;
            font-size: 0.9rem;
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        .archive-card, .info-card {
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.9) 0%, rgba(45, 48, 71, 0.9) 100%);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            padding: 1.25rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .archive-card::before, .info-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--comet-blue), var(--cosmic-purple));
        }

        .archive-card h3, .info-card h3 {
            color: var(--star-gold);
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .archive-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 0.75rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            -webkit-overflow-scrolling: touch;
        }

        .archive-list::-webkit-scrollbar {
            width: 4px;
        }

        .archive-list::-webkit-scrollbar-track {
            background: rgba(45, 48, 71, 0.5);
        }

        .archive-list::-webkit-scrollbar-thumb {
            background: var(--comet-blue);
            border-radius: 2px;
        }

        .archive-item {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
            background: linear-gradient(to right, transparent 50%, rgba(138, 43, 226, 0.1) 50%);
            background-size: 200% 100%;
            background-position: right bottom;
            min-height: 44px;
        }

        .archive-item:hover, .archive-item:active {
            background-position: left bottom;
            padding-left: 16px;
        }

        .archive-item a {
            color: var(--moon-silver);
            text-decoration: none;
            font-weight: 500;
            flex-grow: 1;
            transition: color 0.2s;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            font-size: 0.9rem;
        }

        .archive-item a:hover, .archive-item a:active {
            color: var(--aurora-green);
        }

        .archive-date {
            color: var(--comet-blue);
            font-size: 0.8rem;
            font-style: italic;
        }

        .info-card ul {
            list-style: none;
            margin-top: 0.75rem;
        }

        .info-card li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            min-height: 44px;
            color: var(--moon-silver);
        }

        .info-card li i {
            color: var(--comet-blue);
            width: 18px;
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, rgba(11, 11, 43, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%);
            color: var(--moon-silver);
            padding: 2rem 0 1.5rem;
            margin-top: 2rem;
            border-top: 4px solid var(--planet-orange);
            position: relative;
            padding-bottom: calc(1.5rem + env(safe-area-inset-bottom, 0px));
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        footer::before {
            content: "üåå ‚ú® üå†";
            position: absolute;
            top: -22px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            background: rgba(26, 26, 46, 0.9);
            padding: 4px 16px;
            border-radius: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
            margin-bottom: 1.5rem;
        }

        .footer-section h3 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--star-gold);
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            position: relative;
            display: inline-block;
        }

        .footer-section h3::after {
            content: "";
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 30px;
            height: 2px;
            background: linear-gradient(90deg, var(--star-gold), var(--planet-orange));
        }

        .footer-section p {
            color: var(--moon-silver);
            line-height: 1.6;
            font-size: 0.9rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 8px;
        }

        .footer-links a {
            color: var(--comet-blue);
            text-decoration: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            min-height: 44px;
        }

        .footer-links a:hover, .footer-links a:active {
            color: var(--aurora-green);
            transform: translateX(3px);
        }

        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--comet-blue);
            font-size: 0.8rem;
            line-height: 1.5;
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 1rem;
            color: var(--moon-silver);
        }

        .loading i {
            margin-right: 8px;
            color: var(--star-gold);
            animation: pulse 2s infinite, rotate 3s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tags */
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 1rem;
        }

        .tag {
            background: linear-gradient(135deg, rgba(70, 130, 180, 0.2) 0%, rgba(138, 43, 226, 0.2) 100%);
            color: var(--aurora-green);
            padding: 5px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
            border: 1px solid rgba(127, 255, 212, 0.3);
            transition: all 0.3s;
            min-height: 32px;
            display: flex;
            align-items: center;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
        }

        .tag:hover, .tag:active {
            background: linear-gradient(135deg, rgba(70, 130, 180, 0.4) 0%, rgba(138, 43, 226, 0.4) 100%);
            transform: translateY(-1px);
            box-shadow: 0 2px 10px rgba(138, 43, 226, 0.3);
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, var(--cosmic-purple) 0%, var(--comet-blue) 100%);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 22px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(138, 43, 226, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
            font-size: 0.9rem;
            min-width: 44px;
            min-height: 44px;
            touch-action: manipulation;
            user-select: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before, .btn:active::before {
            left: 100%;
        }

        .btn:hover, .btn:active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(138, 43, 226, 0.5);
            background: linear-gradient(135deg, var(--comet-blue) 0%, var(--planet-orange) 100%);
        }

        .utc-time {
            font-size: 0.75rem;
            color: var(--comet-blue);
            margin-top: 4px;
            opacity: 0.9;
            font-family: 'Courier New', monospace;
        }

        .date-badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--planet-orange), var(--star-gold));
            color: var(--midnight-blue);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-left: 4px;
            font-weight: 700;
            font-family: 'Orbitron', 'Arial Black', sans-serif;
        }

        /* Mobile Menu for Small Screens */
        @media (max-width: 767px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-links {
                flex-direction: column;
                max-height: 0;
                overflow: hidden;
                opacity: 0;
                gap: 0;
            }
            
            .nav-links.active {
                max-height: 400px;
                opacity: 1;
                margin-top: 12px;
                gap: 8px;
            }
            
            .nav-links a {
                justify-content: flex-start;
                padding: 12px 16px;
                border-radius: 10px;
                margin-bottom: 4px;
            }
            
            .drops-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            
            .recipe-header {
                gap: 12px;
            }
            
            .recipe-meta {
                gap: 8px;
            }
            
            .season-badge {
                padding: 3px 8px;
            }
        }

        /* Tablet and Desktop Styles */
        @media (min-width: 768px) {
            .container {
                padding: 0 20px;
            }
            
            header {
                padding: 1.5rem 0;
                padding-top: calc(1.5rem + env(safe-area-inset-top, 0px));
            }
            
            .header-content {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: 0;
            }
            
            .logo {
                text-align: left;
            }
            
            .logo h1 {
                font-size: 1.8rem;
            }
            
            .nav-links {
                width: auto;
                gap: 15px;
            }
            
            .main-content {
                flex-direction: row;
                gap: 30px;
            }
            
            main {
                flex: 1;
            }
            
            .sidebar {
                width: 350px;
            }
            
            .recipe-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                padding: 1.5rem 2rem;
            }
            
            .recipe-title h2 {
                font-size: 1.6rem;
            }
            
            .recipe-actions {
                margin-top: 0;
            }
            
            .recipe-body {
                padding: 2rem;
            }
            
            .footer-content {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .section-title {
                font-size: 1.2rem;
            }
            
            .archive-list {
                max-height: 400px;
            }
        }

        /* Large Desktop */
        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }
            
            .logo h1 {
                font-size: 2rem;
            }
            
            .recipe-title h2 {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Starfield Background -->
    <div class="starfield" id="starfield"></div>

    <header>
        <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle menu">
            <i class="fas fa-bars"></i>
        </button>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-moon"></i>
                    <div>
                        <h1>The Nightly Drop</h1>
                        <p>Celestial essential oil recipes</p>
                    </div>
                </div>
                <nav class="nav-links" id="nav-links">
                    <a href="#" class="nav-link"><i class="fas fa-home"></i> Tonight's Recipe</a>
                    <a href="#archive" class="nav-link"><i class="fas fa-archive"></i> Archive</a>
                    <a href="#" class="nav-link"><i class="fas fa-star"></i> Oil Catalog</a>
                    <a href="#" class="nav-link"><i class="fas fa-user-astronaut"></i> My Observatory</a>
                </nav>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="main-content">
            <main>
                <div class="recipe-card">
                    <div class="recipe-header">
                        <div class="recipe-title">
                            <h2 id="recipe-title">Loading Tonight's Recipe...</h2>
                            <div class="recipe-meta">
                                <span id="recipe-date">Scanning the cosmos...</span>
                                <span id="recipe-season" class="season-badge">
                                    <span id="season-icon" class="season-icon">üåå</span>
                                    <span id="season-text">Season</span>
                                </span>
                                <span id="recipe-hemisphere"><i class="fas fa-globe"></i> Hemisphere</span>
                            </div>
                            <div class="utc-time" id="utc-time">Stardate: calculating...</div>
                        </div>
                        <div class="recipe-actions">
                            <button id="print-btn" class="btn"><i class="fas fa-print"></i> Print</button>
                            <button id="refresh-btn" class="btn" style="background: linear-gradient(135deg, var(--comet-blue) 0%, var(--nebula-purple) 100%);">
                                <i class="fas fa-satellite"></i> Rescan
                            </button>
                        </div>
                    </div>
                    
                    <div class="recipe-body">
                        <div id="loading" class="loading">
                            <i class="fas fa-spinner fa-spin"></i> Scanning the cosmos for celestial blends...
                        </div>
                        
                        <div id="recipe-content" style="display: none;">
                            <div class="oils-section">
                                <h3 class="section-title"><i class="fas fa-star"></i> Celestial Oils</h3>
                                <div id="oil-list" class="oil-list"></div>
                            </div>
                            
                            <div class="formats-section">
                                <h3 class="section-title"><i class="fas fa-vial"></i> Recipe Formats</h3>
                                <div id="formats-container"></div>
                            </div>
                            
                            <div class="why-works">
                                <h3 class="section-title"><i class="fas fa-atom"></i> Cosmic Synergy</h3>
                                <p id="why-it-works" style="font-style: italic; color: var(--aurora-green);"></p>
                            </div>
                            
                            <div class="safety-section">
                                <h3 class="section-title"><i class="fas fa-shield-alt"></i> Safety Protocol</h3>
                                <ul id="safety-list" class="safety-list"></ul>
                            </div>
                            
                            <div>
                                <h3 class="section-title"><i class="fas fa-tags"></i> Galactic Tags</h3>
                                <div id="tags-container" class="tags"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            
            <aside class="sidebar">
                <div class="archive-card" id="archive">
                    <h3><i class="fas fa-history"></i> Cosmic Archive</h3>
                    <p>Explore past celestial blends:</p>
                    <div class="archive-list" id="archive-list"></div>
                </div>
                
                <div class="info-card">
                    <h3><i class="fas fa-info-circle"></i> About The Nightly Drop</h3>
                    <p>Essential oil blends inspired by the cosmos, celestial events, and astronomical phenomena.</p>
                    <ul>
                        <li><i class="fas fa-satellite"></i> Updated nightly at 21:00 UTC</li>
                        <li><i class="fas fa-star"></i> Astronomical grade essential oils</li>
                        <li><i class="fas fa-shield-alt"></i> Safety guidelines included</li>
                        <li><i class="fas fa-moon"></i> Celestial theme</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3><i class="fas fa-rocket"></i> Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="https://github.com/NAGOHUSA/THEDAILYDROP" target="_blank"><i class="fab fa-github"></i> GitHub Repository</a></li>
                        <li><a href="#"><i class="fas fa-book"></i> Celestial Oil Catalog</a></li>
                        <li><a href="#"><i class="fas fa-calculator"></i> Dilution Calculator</a></li>
                        <li><a href="#"><i class="fas fa-question-circle"></i> FAQ & Safety</a></li>
                    </ul>
                </div>
            </aside>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>The Nightly Drop</h3>
                    <p>Discover celestial essential oil recipes inspired by the cosmos, stars, and astronomical events.</p>
                </div>
                <div class="footer-section">
                    <h3>Navigation</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-arrow-right"></i> Tonight's Recipe</a></li>
                        <li><a href="#archive"><i class="fas fa-arrow-right"></i> Cosmic Archive</a></li>
                        <li><a href="#"><i class="fas fa-arrow-right"></i> Oil Catalog</a></li>
                        <li><a href="#"><i class="fas fa-arrow-right"></i> My Observatory</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="https://github.com/NAGOHUSA/THEDAILYDROP" target="_blank"><i class="fas fa-arrow-right"></i> GitHub Repository</a></li>
                        <li><a href="#"><i class="fas fa-arrow-right"></i> Essential Oil Safety</a></li>
                        <li><a href="#"><i class="fas fa-arrow-right"></i> Dilution Guidelines</a></li>
                        <li><a href="#"><i class="fas fa-arrow-right"></i> Blending Tips</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p><i class="fas fa-moon"></i> &copy; 2025 The Nightly Drop. All recipes are automatically generated. Essential oils should be used with caution. Consult a professional if you have health concerns.</p>
            </div>
        </div>
    </footer>

    <script>
        // Configuration
        const REPO_OWNER = 'NAGOHUSA';
        const REPO_NAME = 'THEDAILYDROP';
        const RECIPES_FOLDER = 'recipes';
        
        const seasonIcons = {
            'Winter': '‚ùÑÔ∏è',
            'Spring': 'üå∏',
            'Summer': '‚òÄÔ∏è',
            'Autumn': 'üçÇ',
            'Fall': 'üçÅ'
        };
        
        // Create starfield
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            const starCount = 150;
            
            for (let i = 0; i < starCount; i++) {
                // Create star
                const star = document.createElement('div');
                star.classList.add('star');
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random() * 0.5 + 0.2;
                star.style.setProperty('--duration', `${Math.random() * 5 + 3}s`);
                starfield.appendChild(star);
                
                // Occasionally create a shooting star
                if (Math.random() > 0.95) {
                    const shootingStar = document.createElement('div');
                    shootingStar.classList.add('shooting-star');
                    shootingStar.style.left = `${Math.random() * 100}%`;
                    shootingStar.style.top = `${Math.random() * 100}%`;
                    shootingStar.style.setProperty('--speed', `${Math.random() * 5 + 3}s`);
                    shootingStar.style.setProperty('--angle', `${Math.random() * 360}deg`);
                    starfield.appendChild(shootingStar);
                    
                    setTimeout(() => {
                        shootingStar.remove();
                    }, 5000);
                }
            }
        }
        
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const navLinks = document.getElementById('nav-links');
        
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileMenuBtn.innerHTML = navLinks.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
        
        // Close menu when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 767 && !navLinks.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                navLinks.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });
        
        // Close menu when clicking a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 767) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
        });
        
        // Get tonight's date in UTC properly
        function getTonightISO() {
            const now = new Date();
            const year = now.getUTCFullYear();
            const month = String(now.getUTCMonth() + 1).padStart(2, '0');
            const day = String(now.getUTCDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        // Format date with celestial theme
        function formatDate(dateStr) {
            const date = new Date(dateStr + 'T00:00:00Z');
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'UTC'
            };
            return date.toLocaleDateString('en-US', options);
        }
        
        function getSeasonIcon(season) {
            return seasonIcons[season] || '‚ú®';
        }
        
        // Update Stardate display
        function updateStardate() {
            const now = new Date();
            const utcTime = now.toUTCString();
            const stardateElement = document.getElementById('utc-time');
            if (stardateElement) {
                // Fun stardate calculation
                const year = now.getUTCFullYear();
                const dayOfYear = Math.floor((now - new Date(year, 0, 0)) / 86400000);
                const hour = now.getUTCHours();
                const minute = now.getUTCMinutes();
                const stardate = `${year}.${dayOfYear.toString().padStart(3, '0')}.${hour.toString().padStart(2, '0')}${minute.toString().padStart(2, '0')}`;
                stardateElement.textContent = `Stardate: ${stardate} | UTC: ${utcTime}`;
            }
        }
        
        async function fetchRecipe(date) {
            try {
                const url = `https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/main/${RECIPES_FOLDER}/${date}.json`;
                const response = await fetch(url);
                
                if (response.status === 404) {
                    return null;
                }
                
                if (!response.ok) {
                    throw new Error(`Failed to fetch recipe: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('Error fetching recipe:', error);
                return null;
            }
        }
        
        async function getRecipeList() {
            try {
                const apiUrl = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${RECIPES_FOLDER}`;
                const response = await fetch(apiUrl);
                
                if (!response.ok) {
                    throw new Error(`Failed to fetch recipe list: ${response.status}`);
                }
                
                const files = await response.json();
                
                const recipes = files
                    .filter(file => file.name.endsWith('.json'))
                    .map(file => {
                        const date = file.name.replace('.json', '');
                        return {
                            date: date,
                            displayDate: formatDate(date),
                            url: file.download_url
                        };
                    })
                    .sort((a, b) => b.date.localeCompare(a.date));
                
                return recipes;
            } catch (error) {
                console.error('Error fetching recipe list:', error);
                return [];
            }
        }
        
        async function getTodaysRecipe() {
            const tonight = getTonightISO();
            
            let recipe = await fetchRecipe(tonight);
            let isTonight = true;
            
            if (!recipe) {
                const recipes = await getRecipeList();
                if (recipes.length > 0) {
                    const latestDate = recipes[0].date;
                    recipe = await fetchRecipe(latestDate);
                    isTonight = false;
                }
            }
            
            return {
                recipe: recipe,
                isTonight: isTonight,
                allRecipes: await getRecipeList()
            };
        }
        
        function displayRecipe(recipeData, isTonight) {
            if (!recipeData) {
                document.getElementById('recipe-title').textContent = 'Recipe Not Available';
                document.getElementById('loading').innerHTML = '<i class="fas fa-exclamation-triangle"></i> Unable to connect to celestial database. Please try again later.';
                return;
            }
            
            document.getElementById('loading').style.display = 'none';
            document.getElementById('recipe-content').style.display = 'block';
            
            document.getElementById('recipe-title').textContent = recipeData.title;
            
            const dateElement = document.getElementById('recipe-date');
            if (isTonight) {
                dateElement.innerHTML = `<strong>Tonight's Celestial Recipe:</strong> ${formatDate(recipeData.date)} <span class="date-badge">NEW MOON</span>`;
            } else {
                dateElement.innerHTML = `<strong>Latest Available:</strong> ${formatDate(recipeData.date)} <span style="font-size: 0.8em; color: var(--comet-blue);">(Tonight's recipe not ready yet)</span>`;
            }
            
            const seasonText = document.getElementById('season-text');
            const seasonIcon = document.getElementById('season-icon');
            seasonText.textContent = recipeData.season;
            seasonIcon.textContent = getSeasonIcon(recipeData.season);
            
            document.getElementById('recipe-hemisphere').innerHTML = `<i class="fas fa-globe"></i> ${recipeData.hemisphere} Hemisphere`;
            document.getElementById('why-it-works').textContent = recipeData.why_it_works;
            
            const oilList = document.getElementById('oil-list');
            oilList.innerHTML = '';
            
            if (Array.isArray(recipeData.oils)) {
                recipeData.oils.forEach(oil => {
                    let oilName, latinName;
                    
                    if (typeof oil === 'string') {
                        const match = oil.match(/^(.*?)\s*\((.*?)\)$/);
                        if (match) {
                            oilName = match[1];
                            latinName = match[2];
                        } else {
                            oilName = oil;
                            latinName = '';
                        }
                    }
                    
                    const oilBadge = document.createElement('div');
                    oilBadge.className = 'oil-badge';
                    oilBadge.innerHTML = `
                        <i class="fas fa-star"></i>
                        <strong>${oilName}</strong>
                        ${latinName ? `<span class="oil-latin">${latinName}</span>` : ''}
                    `;
                    oilList.appendChild(oilBadge);
                });
            }
            
            const formatsContainer = document.getElementById('formats-container');
            formatsContainer.innerHTML = '';
            
            for (const [formatName, formatData] of Object.entries(recipeData.formats)) {
                const formatCard = document.createElement('div');
                formatCard.className = 'format-card';
                
                let displayName = formatName.replace('_', ' ').toUpperCase();
                if (formatName === 'spray_optional') displayName = 'NEBULA SPRAY (OPTIONAL)';
                
                let dropsHtml = '';
                if (formatData.drops) {
                    if (typeof formatData.drops === 'object') {
                        dropsHtml = Object.entries(formatData.drops)
                            .map(([oil, count]) => `
                                <div class="drop-item">
                                    <div class="drop-name">${oil}</div>
                                    <div class="drop-count">${count} drops</div>
                                </div>
                            `).join('');
                    }
                }
                
                formatCard.innerHTML = `
                    <h4><i class="fas fa-${getFormatIcon(formatName)}"></i> ${displayName}</h4>
                    
                    ${formatData.notes ? `<p style="color: var(--aurora-green); font-style: italic;">${formatData.notes}</p>` : ''}
                    
                    ${dropsHtml ? `
                        <div class="drops-grid">
                            ${dropsHtml}
                        </div>
                    ` : ''}
                    
                    ${formatData.size_ml ? `<p><strong>Size:</strong> ${formatData.size_ml} ml</p>` : ''}
                    ${formatData.dilution_percent ? `<p><strong>Dilution:</strong> ${formatData.dilution_percent}%</p>` : ''}
                    ${formatData.carrier ? `<p><strong>Carrier Oil:</strong> ${formatData.carrier}</p>` : ''}
                    ${formatData.base ? `<p><strong>Base:</strong> ${formatData.base}</p>` : ''}
                    ${formatData.note ? `<p><strong>Note:</strong> ${formatData.note}</p>` : ''}
                `;
                
                formatsContainer.appendChild(formatCard);
            }
            
            const safetyList = document.getElementById('safety-list');
            safetyList.innerHTML = '';
            
            if (Array.isArray(recipeData.safety)) {
                recipeData.safety.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${item}`;
                    safetyList.appendChild(li);
                });
            }
            
            const tagsContainer = document.getElementById('tags-container');
            tagsContainer.innerHTML = '';
            
            if (Array.isArray(recipeData.tags)) {
                recipeData.tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'tag';
                    tagElement.textContent = tag.replace(':', ': ');
                    tagsContainer.appendChild(tagElement);
                });
            }
        }
        
        function getFormatIcon(formatName) {
            const icons = {
                diffuser: 'wind',
                roller: 'dot-circle',
                spray_optional: 'spray-can'
            };
            return icons[formatName] || 'flask';
        }
        
        function displayArchive(recipes) {
            const archiveList = document.getElementById('archive-list');
            
            if (recipes.length === 0) {
                archiveList.innerHTML = '<p style="text-align: center; color: var(--comet-blue); padding: 20px;">No celestial recipes found in the archive.</p>';
                return;
            }
            
            archiveList.innerHTML = '';
            
            recipes.forEach(recipe => {
                const archiveItem = document.createElement('div');
                archiveItem.className = 'archive-item';
                archiveItem.innerHTML = `
                    <a href="#" data-date="${recipe.date}" class="archive-link">
                        ${recipe.displayDate}
                    </a>
                    <span class="archive-date">${recipe.date}</span>
                `;
                
                archiveList.appendChild(archiveItem);
            });
            
            document.querySelectorAll('.archive-link').forEach(link => {
                link.addEventListener('click', async (e) => {
                    e.preventDefault();
                    const date = e.target.getAttribute('data-date');
                    
                    document.getElementById('recipe-content').style.display = 'none';
                    document.getElementById('loading').style.display = 'block';
                    document.getElementById('loading').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Accessing cosmic archives...';
                    
                    const recipe = await fetchRecipe(date);
                    const tonight = getTonightISO();
                    const isTonight = date === tonight;
                    displayRecipe(recipe, isTonight);
                    
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    history.pushState(null, null, `#${date}`);
                });
            });
        }
        
        async function init() {
            try {
                // Create starfield
                createStarfield();
                
                document.getElementById('loading').style.display = 'block';
                document.getElementById('recipe-content').style.display = 'none';
                
                // Update stardate
                updateStardate();
                setInterval(updateStardate, 1000);
                
                const result = await getTodaysRecipe();
                
                if (!result.recipe) {
                    throw new Error('Could not load any celestial recipes');
                }
                
                displayRecipe(result.recipe, result.isTonight);
                displayArchive(result.allRecipes);
                
                console.log(`Loaded recipe: ${result.recipe.date}`);
                console.log(`Tonight's date (UTC): ${getTonightISO()}`);
                console.log(`Is tonight's recipe: ${result.isTonight}`);
                
            } catch (error) {
                console.error('Error initializing page:', error);
                document.getElementById('loading').innerHTML = `
                    <i class="fas fa-exclamation-triangle"></i> 
                    <p>Unable to connect to celestial database. Please check your connection or try again later.</p>
                    <p><small>Error: ${error.message}</small></p>
                    <button onclick="location.reload()" class="btn" style="margin-top: 20px;">
                        <i class="fas fa-redo"></i> Reinitialize
                    </button>
                `;
            }
        }
        
        document.getElementById('print-btn').addEventListener('click', () => {
            window.print();
        });
        
        document.getElementById('refresh-btn').addEventListener('click', async () => {
            document.getElementById('recipe-content').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('loading').innerHTML = '<i class="fas fa-satellite"></i> Rescanning the cosmos...';
            await init();
        });
        
        // Check for tonight's recipe every minute
        setInterval(async () => {
            const tonight = getTonightISO();
            const dateElement = document.getElementById('recipe-date').textContent;
            
            if (!dateElement.includes("Tonight's Celestial Recipe")) {
                console.log('Scanning for tonight\'s celestial recipe...');
                const tonightRecipe = await fetchRecipe(tonight);
                
                if (tonightRecipe) {
                    document.getElementById('loading').style.display = 'block';
                    document.getElementById('recipe-content').style.display = 'none';
                    document.getElementById('loading').innerHTML = '<i class="fas fa-satellite"></i> Celestial recipe detected! Downloading...';
                    
                    setTimeout(async () => {
                        const recipes = await getRecipeList();
                        displayRecipe(tonightRecipe, true);
                        displayArchive(recipes);
                        
                        // Show a celestial notification
                        const notification = document.createElement('div');
                        notification.style.cssText = `
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: linear-gradient(135deg, var(--cosmic-purple) 0%, var(--comet-blue) 100%);
                            color: white;
                            padding: 12px 16px;
                            border-radius: 8px;
                            box-shadow: 0 4px 20px rgba(138, 43, 226, 0.5);
                            z-index: 10000;
                            animation: slideIn 0.5s ease;
                            max-width: 300px;
                            font-size: 0.9rem;
                            border: 1px solid rgba(255, 255, 255, 0.2);
                            font-family: 'Orbitron', sans-serif;
                        `;
                        notification.innerHTML = `
                            <strong>‚ú® New Celestial Recipe!</strong>
                            <p>Tonight's cosmic blend has been downloaded.</p>
                        `;
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.animation = 'slideOut 0.5s ease';
                            setTimeout(() => notification.remove(), 500);
                        }, 3000);
                    }, 1000);
                }
            }
        }, 60000);
        
        document.addEventListener('DOMContentLoaded', init);
        
        window.addEventListener('popstate', async () => {
            const hash = window.location.hash.substring(1);
            if (hash && hash.match(/\d{4}-\d{2}-\d{2}/)) {
                const recipe = await fetchRecipe(hash);
                if (recipe) {
                    const tonight = getTonightISO();
                    const isTonight = hash === tonight;
                    displayRecipe(recipe, isTonight);
                }
            }
        });
        
        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
